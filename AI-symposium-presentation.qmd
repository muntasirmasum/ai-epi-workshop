---
title: "<span style='color: #461D7C;'>AI-Assisted Statistical Analysis in Graduate Epidemiology Education</span>"
subtitle: "<span style='color: #461D7C;'>Integrating Claude with RStudio for Teaching Regression Methods</span>"
author: "Muntasir Masum, PhD"
institute: "Department of Epidemiology & Biostatistics<br>University at Albany, SUNY<br><br>[AI+ Annual Symposium 2026](https://events.albany.edu/event/ai-plus-symposium)"
date: "`r Sys.Date()`"
format:
  revealjs:
    theme: ["simple", ai-epi-workshop.scss]
    slide-number: c/t
    width: 1600
    height: 900
    footer: "[Workshop Materials](https://github.com/muntasirmasum/ai-epi-workshop) | [Live Presentation](https://muntasirmasum.github.io/ai-epi-workshop/)"
    chalkboard:
      buttons: false
    preview-links: auto
    echo: true
    mouse-wheel: false
    transition: fade
    code-block-height: 650px
    navigation-mode: linear
---

```{r}
#| label: setup
#| include: false

library(tidyverse)
library(NHANES)
library(broom)
library(knitr)
library(kableExtra)
library(plotly)
library(ggeffects)

knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE,
  fig.width = 10,
  fig.height = 5,
  cache = FALSE
)

theme_set(theme_minimal(base_size = 16))
```

## {#welcome}

::: {.hero-text}
What if your students had a **24/7 AI teaching assistant**<br>that understood their data, their code, and their questions?
:::

. . .

::: {style="text-align: center; font-size: 0.8em; color: #6c757d;"}
Today we'll see exactly how that works.
:::

## Workshop Roadmap {#overview}

<div class="card-grid">
<div class="card">
<span class="card__icon">üìã</span>
<h3>Context ¬∑ 15 min</h3>
<p>The teaching challenge & how AI fits in</p>
</div>
<div class="card card--orange">
<span class="card__icon">üíª</span>
<h3>Live Demo ¬∑ 45 min</h3>
<p>Coding, analysis, visualization & debugging</p>
</div>
<div class="card card--blue">
<span class="card__icon">üí¨</span>
<h3>Discussion ¬∑ 15 min</h3>
<p>Implementation, integrity & Q&A</p>
</div>
</div>

## Who Is This For?

<div class="card-grid">
<div class="card">
<p><strong>Educators</strong></p>
<p style="font-size:0.75em;">Teaching quantitative methods</p>
</div>
<div class="card">
<p><strong>Students</strong></p>
<p style="font-size:0.75em;">Learning R & statistics</p>
</div>
<div class="card">
<p><strong>Researchers</strong></p>
<p style="font-size:0.75em;">Working with data</p>
</div>
<div class="card">
<p><strong>Anyone</strong></p>
<p style="font-size:0.75em;">Curious about AI + analysis</p>
</div>
</div>

. . .

::: {style="text-align: center; margin-top: 20px; font-size: 0.85em;"}
**No assumptions about:** R experience ¬∑ Statistics background ¬∑ Epidemiology knowledge
:::

## The Teaching Challenge

<div class="split">
<div>
<p style="text-align:center; font-weight:bold; margin-bottom:15px;">The Problem</p>
<ul>
<li><del>Syntax frustration overshadows statistical thinking</del></li>
<li><del>Limited support outside office hours</del></li>
<li><del>Steep learning curve for R</del></li>
<li><del>Debugging takes all the time</del></li>
</ul>
</div>
<div>
<p style="text-align:center; font-weight:bold; margin-bottom:15px;">The Goal</p>
<ul>
<li>Focus on <em>interpretation</em>, not syntax</li>
<li>On-demand, contextual guidance</li>
<li>Iterative, scaffolded learning</li>
<li>Students become <em>analytical thinkers</em></li>
</ul>
</div>
</div>

. . .

<div class="claude-box">
<strong>AI bridges this gap</strong> ‚Äî Students get instant, context-aware help so they can focus on understanding, not debugging.
</div>

::: {style="text-align: center; margin-top: 10px; font-size: 0.55em; color: #6c757d; font-style: italic;"}
Office hours at 2am? Not ideal. Claude at 2am? Always available, never annoyed.
:::

## Three Ways to Use Claude + RStudio {#integration}

<div class="card-grid">
<div class="card card--green">
<h3>Claude Chat</h3>
<p>Copy code & output from RStudio, paste into Claude Desktop App</p>
<span class="card__label">Most accessible</span>
</div>
<div class="card card--orange">
<h3>ClaudeR + Cowork</h3>
<p>ClaudeR connects RStudio to Claude ‚Äî Claude sees your data and assists in real time</p>
<span class="card__label">Today's focus</span>
</div>
<div class="card">
<h3>Claude Code</h3>
<p>Full AI agent in the terminal ‚Äî autonomous coding & execution</p>
<span class="card__label">Most powerful</span>
</div>
</div>

. . .

::: {style="text-align: center; margin-top: 20px;"}
**Today's focus:** Demonstrating AI-assisted statistical analysis workflows using ClaudeR + Claude Cowork

<span style="font-size: 0.65em; color: #6c757d;">üìé [Setup instructions in the appendix (slides 37‚Äì42)](#setup-appendix)</span>
:::

## Claude Chat: Interpreting Output

<div class="split">
<div>

**The simplest workflow ‚Äî no setup needed**

1. Run your analysis in RStudio
2. Copy the output from the console
3. Paste into Claude and ask a question

. . .

<div class="tip-box">
<strong>Works today:</strong> All you need is <a href="https://claude.ai">claude.ai</a> ‚Äî free tier is enough to get started.
</div>

</div>
<div>

<div class="chat-bubble">
üë§ "I ran this regression in R. Can you explain the output?"

<pre style="font-size:0.65em; background:#f8f9fa; padding:10px; border-radius:6px; margin:8px 0;">
Coefficients:
             Estimate Std. Error t value Pr(>|t|)
(Intercept) 101.4821   2.1538   47.12  < 2e-16 ***
Age           0.3048   0.0275   11.09  < 2e-16 ***
Gendermale    4.8215   0.9012    5.35  1.1e-07 ***
</pre>

ü§ñ "This tells you that for each additional year of age, systolic blood pressure increases by about 0.3 mmHg, holding other variables constant. Males have BP about 4.8 mmHg higher than females on average..."
</div>

</div>
</div>

## Claude Chat: Debugging Errors

<div class="split">
<div>

**When something breaks ‚Äî Claude explains why**

Students often get stuck on cryptic R errors. Copy-pasting into Claude gets instant, clear explanations.

. . .

<div class="claude-box">
<strong>Why this works:</strong> Claude can recognize common R errors and suggest fixes without needing to see your full environment. Perfect for beginners.
</div>

</div>
<div>

<div class="chat-bubble">
üë§ "I'm getting this error in R:"

<pre style="font-size:0.7em; background:#fff0f0; padding:10px; border-radius:6px; margin:8px 0; color:#c00;">
Error in ggplot(data, aes(x = age, y = bp)) :
  could not find function "ggplot"
</pre>

ü§ñ "You need to load the ggplot2 package first. Add this line before your plot code:"

<pre style="font-size:0.7em; background:#f0fff0; padding:10px; border-radius:6px; margin:8px 0;">
library(ggplot2)  # or library(tidyverse)
</pre>
</div>

</div>
</div>

## ClaudeR: The Easiest Starting Point

<div class="split">
<div>

**What it does:** Connects RStudio directly to Claude Desktop app

- Claude can *see* your loaded data and R environment
- Chat in Claude Desktop, run code in RStudio
- Perfect for students new to AI workflows

. . .

<div class="tip-box">
<strong>Install:</strong> <code>devtools::install_github("IMNMV/ClaudeR")</code><br>
GitHub: <a href="https://github.com/IMNMV/ClaudeR">github.com/IMNMV/ClaudeR</a>
</div>

</div>
<div>

```r
# Start ClaudeR connection
library(ClaudeR)
claudeAddin()

# Now Claude can see your data!
# Ask questions directly
# Get help with analysis
```

. . .

<div class="chat-bubble">
üë§ "I have NHANES loaded. Help me summarize systolic blood pressure?"<br><br>
ü§ñ "I can see NHANES in your environment. Let me help..."
</div>

</div>
</div>

## Let's See It in Action {.section-divider-gold data-background-color="#EAAA00"}

::: {style="text-align: center;"}
[Coding ¬∑ Analysis ¬∑ Visualization ¬∑ Debugging]{style="color: #461D7C; font-size: 0.9em;"}
:::

## Today's Research Question {#research-question}

::: {.hero-text}
Does alcohol consumption predict blood pressure?
:::

::: {style="text-align: center; font-size: 0.8em;"}
**Dataset:** NHANES 2017-2018 ¬∑ **Outcome:** Systolic BP (mmHg) ¬∑ **Exposure:** Alcohol drinks/week
:::

::: {style="text-align: center; margin-top: 30px;"}
[Coding](#coding){.workflow-btn} [Analysis](#analysis){.workflow-btn} [Visualization](#visualization){.workflow-btn} [Debugging](#debugging){.workflow-btn}
:::

## Student Question: Coding {#coding}

<div class="student-ask">
I need to prepare my NHANES data for regression analysis. I want adults aged 20-65, exclude missing values, and create a drinks-per-week variable. How do I do this in R?
</div>

. . .

<div class="claude-box">
<strong>Claude's approach:</strong> Filter age range ‚Üí Select variables ‚Üí Handle missing data ‚Üí Create derived variables
</div>

## The Code {.smaller}

<div class="claude-box">
<strong>Claude suggests:</strong> Use <code>filter()</code> for age range, <code>mutate()</code> for new variables, and handle missing data explicitly
</div>

```r
# Load packages
library(tidyverse)  # ‚Üê Claude recommends: tidyverse for data wrangling

# Load NHANES data
data("NHANES")  # ‚Üê Built-in dataset from NHANES package

# Prepare analysis dataset
analysis_data <- NHANES %>%
  filter(Age >= 20, Age <= 65) %>%              # Filter age range
  select(ID, Gender, Age, BMI, AlcoholDay,
         SmokeNow, BPSysAve) %>%                # Select relevant vars
  na.omit() %>%                                  # Remove missing data
  mutate(
    drinks_per_week = AlcoholDay * 7,            # Convert daily ‚Üí weekly
    current_smoker = ifelse(SmokeNow == "Yes", 1, 0),
    drink_category = cut(AlcoholDay * 7,         # Categorize drinking
      breaks = c(-Inf, 0, 7, 14, Inf),
      labels = c("None", "Light", "Moderate", "Heavy"))
  )
```

<div class="tip-box">
<strong>R Tip:</strong> <code>na.omit()</code> drops ALL rows with any NA ‚Äî consider <code>filter(!is.na(var))</code> for targeted removal
</div>

## Live Code Output

```{r}
#| label: data-prep
#| echo: true

data("NHANES")                                    # Load built-in dataset

analysis_data <- NHANES %>%
  filter(Age >= 20, Age <= 65) %>%                 # Adults only
  filter(!is.na(BPSysAve), !is.na(AlcoholDay),    # Drop missing values
         !is.na(BMI), !is.na(SmokeNow),
         !is.na(Gender)) %>%
  mutate(
    drinks_per_week = AlcoholDay * 7,              # Daily ‚Üí weekly
    current_smoker = ifelse(SmokeNow == "Yes", 1, 0),  # Binary coding
    drink_category = cut(AlcoholDay * 7,           # Categorize drinkers
      breaks = c(-Inf, 0, 7, 14, Inf),
      labels = c("None", "Light", "Moderate", "Heavy"))
  ) %>%
  select(ID, Gender, Age, BMI, drinks_per_week,    # Keep key variables
         drink_category, current_smoker, BPSysAve) %>%
  distinct(ID, .keep_all = TRUE)                   # Remove duplicates
```

<div class="tip-box">
<strong>Pro Tip:</strong> <code>glimpse()</code> gives you a better overview than <code>str()</code> for tidy data
</div>

## A Look at the Data

```{r}
#| echo: true
glimpse(analysis_data)
```

## Student Question: Analysis {#analysis}

<div class="student-ask">
I need to run a multiple regression with blood pressure as outcome and alcohol, age, BMI, smoking, and sex as predictors. How do I interpret the results?
</div>

## Fitting the Model {.smaller}

<div class="claude-box">
<strong>Claude explains:</strong> Use <code>lm()</code> for linear regression. Formula syntax: <code>outcome ~ predictor1 + predictor2 + ...</code>
</div>

```{r}
#| label: model1
#| echo: true
#| code-line-numbers: "2,3,4"

# Fit multiple linear regression
model1 <- lm(
  BPSysAve ~ drinks_per_week + Age + BMI +        # Outcome ~ predictors
              current_smoker + Gender,
  data = analysis_data                             # Use cleaned dataset
)

summary(model1)                                    # View full results
```

<div class="tip-box">
<strong>Claude Tip:</strong> Always tell Claude your research question ‚Äî it gives better, more contextual code suggestions
</div>

## Interpreting the Results

**Coefficient for alcohol:**

```{r}
#| echo: true
coef(model1)["drinks_per_week"]
```

Each additional drink per week is associated with a `r round(coef(model1)["drinks_per_week"], 3)` mmHg change in systolic BP, holding other factors constant.

. . .

**P-value:**

```{r}
#| echo: true
summary(model1)$coefficients["drinks_per_week", "Pr(>|t|)"]
```

. . .

<div class="claude-box">
<strong>Claude guides the student:</strong> "What does this p-value tell us? Is this effect size clinically meaningful for public health interventions?"
</div>

## Telling the Story with Data {.section-divider-gold data-background-color="#EAAA00"}

::: {style="text-align: center;"}
[Visualization that communicates]{style="color: #461D7C; font-size: 0.9em;"}
:::

## Student Question: Visualization {#visualization}

<div class="student-ask">
I want to visualize the relationship between alcohol consumption and blood pressure, accounting for sex differences. What's the best plot?
</div>

. . .

<div class="claude-box">
<strong>Claude suggests:</strong> A violin plot with overlaid box plots ‚Äî shows the full distribution shape, grouped by drinking level and colored by sex
</div>

## Building the Plot {.smaller}

```r
p <- ggplot(analysis_data, aes(x = drink_category, y = BPSysAve,
                                fill = Gender)) +
  geom_violin(alpha = 0.4, position = position_dodge(0.8)) +
  geom_boxplot(width = 0.15, alpha = 0.8,
               position = position_dodge(0.8), outlier.size = 0.5) +
  labs(
    title = "Blood Pressure by Drinking Level and Sex",
    subtitle = "NHANES 2017-2018, Adults 20-65",
    x = "Drinking Category", y = "Systolic BP (mmHg)",
    fill = "Sex"
  ) +
  scale_fill_manual(values = c("female" = "#D55E00",
                                "male" = "#0072B2")) +
  theme_minimal(base_size = 20)
```

<div class="tip-box">
<strong>ggplot Tip:</strong> Violin + box plot combo shows both distribution shape <em>and</em> summary statistics ‚Äî far more informative than a bar chart
</div>

## Visualization Output

:::: {.columns}
::: {.column width="70%"}
```{r}
#| label: vis-demo
#| echo: false
#| fig-width: 10
#| fig-height: 8

ggplot(analysis_data, aes(x = drink_category, y = BPSysAve, fill = Gender)) +
  geom_violin(alpha = 0.35, position = position_dodge(0.8),
              color = NA, scale = "width") +
  geom_boxplot(width = 0.15, alpha = 0.9,
               position = position_dodge(0.8),
               outlier.size = 0.8, outlier.alpha = 0.3) +
  stat_summary(fun = mean, geom = "point", shape = 18, size = 4,
               position = position_dodge(0.8), show.legend = FALSE) +
  labs(
    title = "Blood Pressure Distribution by Drinking Level and Sex",
    subtitle = "NHANES 2017-2018 | Adults Aged 20-65 | Diamond = Mean",
    x = "Drinking Category",
    y = "Systolic Blood Pressure (mmHg)",
    fill = "Sex"
  ) +
  scale_fill_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  theme_minimal(base_size = 20) +
  theme(
    legend.position = "top",
    legend.text = element_text(size = 18),
    legend.title = element_text(size = 18, face = "bold"),
    plot.title = element_text(size = 22, face = "bold"),
    plot.subtitle = element_text(size = 15, color = "gray40"),
    axis.title = element_text(size = 18, face = "bold"),
    axis.text = element_text(size = 16),
    panel.grid.major.x = element_blank()
  )
```
:::
::: {.column width="28%"}
<div class="takeaway-side">
<strong>Takeaway</strong> Males consistently show higher blood pressure than females across all drinking levels. Heavy drinkers show the widest spread ‚Äî highly variable outcomes.
</div>
:::
::::

## Data Distributions

:::: {.columns}
::: {.column width="70%"}
```{r}
#| label: distributions
#| echo: false
#| fig-width: 10
#| fig-height: 7

library(gridExtra)

p1 <- ggplot(analysis_data, aes(x = drinks_per_week, fill = Gender)) +
  geom_histogram(alpha = 0.6, bins = 30, position = "identity") +
  labs(title = "Distribution of Alcohol Consumption",
       x = "Drinks Per Week", y = "Count") +
  theme_minimal(base_size = 15) +
  scale_fill_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  theme(legend.position = "top")

p2 <- ggplot(analysis_data, aes(x = BPSysAve, fill = Gender)) +
  geom_density(alpha = 0.6) +
  labs(title = "Distribution of Systolic Blood Pressure",
       x = "Systolic BP (mmHg)", y = "Density") +
  theme_minimal(base_size = 15) +
  scale_fill_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  theme(legend.position = "top")

grid.arrange(p1, p2, ncol = 2)
```
:::
::: {.column width="28%"}
<div class="takeaway-side">
<strong>Takeaway</strong> Alcohol consumption is heavily right-skewed ‚Äî most people drink moderately, a few drink a lot. Blood pressure is roughly normal but shifted higher in males.
</div>
:::
::::

## Correlation Matrix

:::: {.columns}
::: {.column width="60%"}
```{r}
#| label: correlation-matrix
#| echo: false
#| fig-width: 8
#| fig-height: 7

corr_data <- analysis_data %>%
  select(Age, drinks_per_week, BPSysAve) %>%
  na.omit()

cor_matrix <- cor(corr_data)

library(reshape2)
melted_cor <- melt(cor_matrix)

ggplot(melted_cor, aes(Var1, Var2, fill = value)) +
  geom_tile(color = "white") +
  geom_text(aes(label = sprintf("%.2f", value)), size = 8, color = "white") +
  scale_fill_gradient2(low = "#0072B2", high = "#D55E00", mid = "white",
                       midpoint = 0, limit = c(-1,1), space = "Lab",
                       name="Correlation") +
  theme_minimal(base_size = 18) +
  theme(axis.title = element_blank(),
        axis.text.x = element_text(angle = 45, hjust = 1, size = 16),
        axis.text.y = element_text(size = 16)) +
  coord_fixed() +
  labs(title = "Correlation Matrix of Key Variables")
```
:::
::: {.column width="38%"}
<div class="takeaway-side">
<strong>Takeaway</strong> Age has the strongest correlation with blood pressure (r ‚âà 0.30). Alcohol shows a weak positive correlation ‚Äî suggesting confounders matter more than drinking alone.
</div>
:::
::::

## Coefficient Plot

:::: {.columns}
::: {.column width="68%"}
```{r}
#| label: coefficient-plot
#| echo: false
#| fig-width: 10
#| fig-height: 7

coef_data <- tidy(model1, conf.int = TRUE) %>%
  filter(term != "(Intercept)") %>%
  mutate(term = case_when(
    term == "drinks_per_week" ~ "Drinks Per Week",
    term == "Gendermale" ~ "Sex (Male vs Female)",
    term == "drinks_per_week:Gendermale" ~ "Interaction:\nDrinks √ó Sex",
    TRUE ~ term
  ))

ggplot(coef_data, aes(x = estimate, y = term)) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray50", size = 1) +
  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high),
                 height = 0.2, size = 1.2, color = "#461D7C") +
  geom_point(size = 4, color = "#461D7C") +
  labs(title = "Regression Coefficients with 95% CI",
       subtitle = "Effect on Systolic Blood Pressure (mmHg)",
       x = "Coefficient Estimate", y = "") +
  theme_minimal(base_size = 18) +
  theme(axis.text.y = element_text(size = 16, face = "bold"),
        panel.grid.major.y = element_blank())
```
:::
::: {.column width="30%"}
<div class="takeaway-side">
<strong>Takeaway</strong> Age and Sex (male) are the strongest predictors of blood pressure. Alcohol has a small but significant positive effect. Confidence intervals not crossing zero = statistically significant.
</div>
:::
::::

## Model Diagnostics

:::: {.columns}
::: {.column width="70%"}
```{r}
#| label: diagnostic-plots
#| echo: false
#| fig-width: 10
#| fig-height: 8

model_diag <- augment(model1)

p1 <- ggplot(model_diag, aes(x = .fitted, y = .resid)) +
  geom_point(alpha = 0.3, color = "#461D7C", size = 1.5) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "red", size = 1) +
  geom_smooth(se = TRUE, color = "#0072B2", size = 1) +
  labs(title = "Residuals vs Fitted", x = "Fitted Values", y = "Residuals") +
  theme_minimal(base_size = 14) +
  theme(axis.title = element_text(size = 14, face = "bold"),
        axis.text = element_text(size = 12))

p2 <- ggplot(model_diag, aes(sample = .resid)) +
  stat_qq(alpha = 0.3, color = "#461D7C", size = 1.5) +
  stat_qq_line(color = "red", linetype = "dashed", size = 1) +
  labs(title = "Normal Q-Q Plot", x = "Theoretical Quantiles", y = "Sample Quantiles") +
  theme_minimal(base_size = 14) +
  theme(axis.title = element_text(size = 14, face = "bold"),
        axis.text = element_text(size = 12))

p3 <- ggplot(model_diag, aes(x = .fitted, y = sqrt(abs(.std.resid)))) +
  geom_point(alpha = 0.3, color = "#461D7C", size = 1.5) +
  geom_smooth(se = TRUE, color = "#0072B2", size = 1) +
  labs(title = "Scale-Location", x = "Fitted Values",
       y = expression(sqrt("|Std. Resid.|"))) +
  theme_minimal(base_size = 14) +
  theme(axis.title = element_text(size = 14, face = "bold"),
        axis.text = element_text(size = 12))

p4 <- ggplot(model_diag, aes(x = .hat, y = .std.resid)) +
  geom_point(alpha = 0.3, color = "#461D7C", size = 1.5) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "red", size = 1) +
  geom_smooth(se = TRUE, color = "#0072B2", size = 1) +
  labs(title = "Residuals vs Leverage", x = "Leverage", y = "Std. Residuals") +
  theme_minimal(base_size = 14) +
  theme(axis.title = element_text(size = 14, face = "bold"),
        axis.text = element_text(size = 12))

grid.arrange(p1, p2, p3, p4, ncol = 2)
```
:::
::: {.column width="28%"}
<div class="takeaway-side">
<strong>Takeaway</strong> Residuals look reasonably normal with no major pattern violations. The model assumptions are adequately met for inference.
</div>
:::
::::

## Model Comparison

:::: {.columns}
::: {.column width="70%"}
```{r}
#| label: model-comparison
#| echo: false
#| fig-width: 10
#| fig-height: 7

model_simple <- lm(BPSysAve ~ drinks_per_week, data = analysis_data)
model_additive <- lm(BPSysAve ~ drinks_per_week + Gender, data = analysis_data)
model_interaction <- model1

model_metrics <- tibble(
  Model = c("Simple\n(Drinks Only)",
            "Additive\n(Drinks + Sex)",
            "Interaction\n(Drinks √ó Sex)"),
  R_squared = c(summary(model_simple)$r.squared,
                summary(model_additive)$r.squared,
                summary(model_interaction)$r.squared),
  Adj_R_squared = c(summary(model_simple)$adj.r.squared,
                    summary(model_additive)$adj.r.squared,
                    summary(model_interaction)$adj.r.squared),
  AIC = c(AIC(model_simple), AIC(model_additive), AIC(model_interaction))
)

p1 <- ggplot(model_metrics, aes(x = Model, y = Adj_R_squared)) +
  geom_col(fill = "#461D7C", alpha = 0.8) +
  geom_text(aes(label = sprintf("%.4f", Adj_R_squared)),
            vjust = -0.5, size = 5, fontface = "bold") +
  labs(title = "Adjusted R¬≤", y = "Adjusted R¬≤", x = "") +
  theme_minimal(base_size = 16) +
  theme(axis.text.x = element_text(size = 13, face = "bold"),
        axis.title.y = element_text(size = 16, face = "bold"),
        plot.title = element_text(size = 18, face = "bold", hjust = 0.5)) +
  ylim(0, max(model_metrics$Adj_R_squared) * 1.2)

p2 <- ggplot(model_metrics, aes(x = Model, y = AIC)) +
  geom_col(fill = "#0072B2", alpha = 0.8) +
  geom_text(aes(label = sprintf("%.0f", AIC)),
            vjust = -0.5, size = 5, fontface = "bold") +
  labs(title = "AIC (Lower is Better)", y = "AIC", x = "") +
  theme_minimal(base_size = 16) +
  theme(axis.text.x = element_text(size = 13, face = "bold"),
        axis.title.y = element_text(size = 16, face = "bold"),
        plot.title = element_text(size = 18, face = "bold", hjust = 0.5)) +
  ylim(0, max(model_metrics$AIC) * 1.1)

grid.arrange(p1, p2, ncol = 2)
```
:::
::: {.column width="28%"}
<div class="takeaway-side">
<strong>Takeaway</strong> Adding covariates dramatically improves fit. The full model (R¬≤ ‚âà 0.12) explains far more than alcohol alone ‚Äî age and sex are key confounders.
</div>
:::
::::

## Predicted Effects

:::: {.columns}
::: {.column width="70%"}
```{r}
#| label: predicted-effects
#| echo: false
#| fig-width: 10
#| fig-height: 8

pred <- ggpredict(model1, terms = c("drinks_per_week [0:80 by=2]", "Gender"))

ggplot(pred, aes(x = x, y = predicted, color = group, fill = group)) +
  geom_ribbon(aes(ymin = conf.low, ymax = conf.high), alpha = 0.15, color = NA) +
  geom_line(linewidth = 1.5) +
  scale_color_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  scale_fill_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  labs(
    title = "Predicted Systolic BP by Alcohol Consumption",
    subtitle = "Adjusted for Age, BMI, and Smoking | Shaded = 95% CI",
    x = "Drinks Per Week",
    y = "Predicted Systolic BP (mmHg)",
    color = "Sex", fill = "Sex"
  ) +
  theme_minimal(base_size = 20) +
  theme(
    legend.position = "top",
    legend.text = element_text(size = 18),
    legend.title = element_text(size = 18, face = "bold"),
    plot.title = element_text(size = 22, face = "bold"),
    plot.subtitle = element_text(size = 15, color = "gray40"),
    axis.title = element_text(size = 18, face = "bold"),
    axis.text = element_text(size = 16)
  )
```
:::
::: {.column width="28%"}
<div class="takeaway-side">
<strong>Takeaway</strong> After adjusting for confounders, blood pressure rises modestly with drinking ‚Äî but males start ~5 mmHg higher at every level. The widening CI at high intake reflects fewer observations.
</div>
:::
::::

## Student Question: Debugging {#debugging}

<div class="student-ask">
I'm getting errors when I try to run my regression. Can you help me figure out what's wrong?
</div>

. . .

**Common errors students encounter:**

```r
Error: could not find function "ggplot"        # Missing package
Error: object 'drinks_perweek' not found       # Typo in variable name
Error in lm.fit(x, y, ...)                     # Formula syntax error
```

. . .

<div class="claude-box">
<strong>Claude's diagnostic process:</strong> Identify the error ‚Üí Explain <em>why</em> it happened ‚Üí Suggest the fix ‚Üí Teach the pattern so it doesn't happen again
</div>

<div class="tip-box">
<strong>Debug Tip:</strong> Run <code>ls()</code> to see your environment ‚Äî check if the variable exists before panicking!
</div>

::: {style="text-align: center; margin-top: 10px; font-size: 0.55em; color: #6c757d; font-style: italic;"}
Every R programmer has rage-quit over a missing comma at least once. Claude doesn't judge.
:::

## Cowork vs Code

<div class="card-grid">
<div class="card card--green" style="flex: 1;">
<span class="card__icon">üéì</span>
<h3>Claude Cowork</h3>
<p style="font-size:0.75em; text-align:left;">
<strong>Learning mode</strong><br><br>
‚Ä∫ Student sees every step Claude takes<br>
‚Ä∫ Claude explains *why*, not just *what*<br>
‚Ä∫ Builds understanding through collaboration<br>
‚Ä∫ Student stays in the driver's seat
</p>
<span class="card__label">Best for learning</span>
</div>
<div class="card" style="flex: 1;">
<span class="card__icon">‚ö°</span>
<h3>Claude Code</h3>
<p style="font-size:0.75em; text-align:left;">
<strong>Production mode</strong><br><br>
‚Ä∫ Claude runs R autonomously in the terminal<br>
‚Ä∫ Writes, executes, and debugs code hands-off<br>
‚Ä∫ Best for experienced users with clear tasks<br>
‚Ä∫ Optimized for speed, not teaching
</p>
<span class="card__label">Best for efficiency</span>
</div>
</div>

. . .

::: {style="text-align: center; margin-top: 20px;"}
**Start with Cowork to learn** ‚Üí **Graduate to Code when ready**
:::

## Bringing It All Together {.section-divider-gold data-background-color="#EAAA00"}

::: {style="text-align: center;"}
[Implementation, integrity & discussion]{style="color: #461D7C; font-size: 0.9em;"}
:::

## Optional Follow-Along

<div class="card-grid">
<div class="card">
<h3>Get Set Up</h3>
<p style="text-align:left; font-size:0.7em;">
1. Install <a href="https://cran.r-project.org/">R</a> and <a href="https://posit.co/download/rstudio-desktop/">RStudio</a><br>
2. Create Claude account at <a href="https://claude.ai">claude.ai</a><br>
3. Install packages:
</p>
<pre style="font-size:0.6em; text-align:left;"><code>install.packages(c("tidyverse",
                    "NHANES", "broom"))</code></pre>
</div>
<div class="card card--orange">
<h3>Workshop Materials</h3>
<p style="font-size:0.7em;">Everything is on GitHub:</p>
<ul style="font-size:0.7em; text-align:left;">
<li>Slides & source code</li>
<li>Sample datasets</li>
<li>Quick-start guide</li>
</ul>
<p style="font-size:0.7em;"><a href="https://github.com/muntasirmasum/ai-epi-workshop">github.com/muntasirmasum/ai-epi-workshop</a></p>
</div>
</div>

## Academic Integrity {#integrity}

<div class="card-grid">
<div class="card">
<h3>Clear Guidelines</h3>
<ul style="font-size:0.75em; text-align:left;">
<li>AI assistance is <strong>allowed</strong></li>
<li>Must <strong>cite</strong> AI use</li>
<li>Must <strong>understand</strong> all code</li>
<li>No copy-paste only submissions</li>
</ul>
</div>
<div class="card card--orange">
<h3>Assessment Design</h3>
<ul style="font-size:0.75em; text-align:left;">
<li>Timed exams (no AI)</li>
<li>Interpretation-focused questions</li>
<li>Code annotation requirements</li>
<li>Learning reflection essays</li>
</ul>
</div>
</div>

. . .

::: {style="text-align: center; margin-top: 20px;"}
**AI is a learning tool, not a replacement for understanding**
:::

## Discussion

<div class="split">
<div>

**What we've seen today:**

- AI lowers barriers to statistical computing
- Students focus on *thinking*, not syntax
- Scaffolded learning builds independence
- Works across disciplines and skill levels

</div>
<div>

**Let's discuss:**

- What challenges do you face teaching quantitative methods?
- How might AI integration work in your context?
- What concerns do you have?
- What would help you get started?

</div>
</div>

## Resources {#resources}

::: {.medium}
**Workshop Materials**

- **GitHub:** [github.com/muntasirmasum/ai-epi-workshop](https://github.com/muntasirmasum/ai-epi-workshop) ‚Äî All slides, code & guides
- **Live Presentation:** [muntasirmasum.github.io/ai-epi-workshop](https://muntasirmasum.github.io/ai-epi-workshop/)

**Tools & Resources**

- Quarto: [quarto.org](https://quarto.org)
- Claude AI: [claude.ai](https://claude.ai)
- ClaudeR Package: [github.com/IMNMV/ClaudeR](https://github.com/IMNMV/ClaudeR)
- NHANES Data: [cdc.gov/nchs/nhanes](https://www.cdc.gov/nchs/nhanes/)
:::

## Thank You!

<br>

::: {style="text-align: center; font-size: 1.2em; font-family: 'Playfair Display', serif; color: #461D7C;"}
Questions?
:::

<br>

::: {style="text-align: center;"}
**Muntasir Masum, PhD**

Department of Epidemiology & Biostatistics

University at Albany, SUNY
:::

<br>

::: {style="display: flex; align-items: center; justify-content: center; gap: 15px; font-size: 1.2em;"}
üìß [mmasum@albany.edu](mailto:mmasum@albany.edu)

[![](https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png){width=35px style="vertical-align: middle;"}](https://www.linkedin.com/in/muntasirmasum/)
:::

## Setting Up Your Kitchen Before You Cook {#setup-appendix .section-divider-gold data-background-color="#EAAA00"}

::: {style="text-align: center;"}
[Because you can't make a regression without cracking a few installs]{style="color: #461D7C; font-size: 0.9em; font-style: italic;"}
:::

## Setup 1: Claude Chat (Ready in 30 Seconds)

<div class="card-grid">
<div class="card card--green" style="flex: 1; text-align: left;">
<h3 style="text-align: center;">The Zero-Install Option</h3>

<p style="font-size: 0.72em;">
<strong>Step 1:</strong> Go to <a href="https://claude.ai">claude.ai</a><br>
<strong>Step 2:</strong> Create a free account<br>
<strong>Step 3:</strong> Start pasting your R output<br><br>
That's it. Seriously.
</p>

</div>
<div class="card" style="flex: 1; text-align: left;">
<h3 style="text-align: center;">Best For</h3>

<p style="font-size: 0.72em;">
‚Ä∫ Quick questions about R output<br>
‚Ä∫ Debugging error messages<br>
‚Ä∫ "What does this p-value mean?"<br>
‚Ä∫ Students who have never used AI before<br><br>
<em style="color: #6c757d;">No R packages, no terminal, no configuration.</em>
</p>

</div>
</div>

## Setup 2: ClaudeR + Cowork

<div class="split">
<div>

**Step 1: Install R prerequisites**

```r
# Install ClaudeR from GitHub
install.packages("devtools")
devtools::install_github("IMNMV/ClaudeR")
```

. . .

**Step 2: Install Claude Desktop App**

Download from [claude.ai/download](https://claude.ai/download) (macOS or Windows)

</div>
<div>

**Step 3: Connect RStudio to Claude**

```r
library(ClaudeR)
claudeAddin()   # Opens the connection
```

. . .

**Step 4: Enable Cowork mode in Claude Desktop**

1. Open Claude Desktop App
2. Settings ‚Üí Developer ‚Üí Enable MCP
3. ClaudeR auto-configures the connection

</div>
</div>

::: {.tip-box style="margin-top: 12px; font-size: 0.55em;"}
**Verify it works:** Load a dataset in RStudio, then ask Claude Desktop: "What data do I have loaded?" ‚Äî if it answers correctly, you're connected! &nbsp; | &nbsp; **Troubleshooting:** Restart both RStudio and Claude Desktop if connection fails.
:::

## Setup 3: Claude Code ‚Äî Install

<div class="split">
<div>

**Step 1: Install Node.js**

```bash
# macOS
brew install node
# Windows
winget install OpenJS.NodeJS
# Verify
node --version  # v18+
```

</div>
<div>

**Step 2: Install Claude Code**

```bash
npm install -g @anthropic-ai/claude-code
```

. . .

::: {.tip-box style="font-size: 0.85em;"}
**Note:** Claude Code requires a paid Anthropic API plan. Start with Cowork if you're exploring.
:::

</div>
</div>

## Setup 3: Claude Code ‚Äî Authenticate & Use

<div class="split">
<div>

**Step 3: Authenticate**

```bash
# Launch ‚Äî opens browser to log in
claude
```

</div>
<div>

**Step 4: Start using with R**

```bash
cd ~/my-r-project
claude

# Then ask Claude:
> "Load NHANES data and run a
   regression of BP on alcohol"
```

</div>
</div>

## Quick Reference: Which Setup Is Right for You?

<div class="card-grid">
<div class="card card--green">
<span class="card__icon">üí¨</span>
<h3>Claude Chat</h3>
<p style="font-size:0.7em;">
<strong>Time:</strong> 30 seconds<br>
<strong>Cost:</strong> Free<br>
<strong>Skill:</strong> Any level<br>
<strong>Best for:</strong> Quick Q&A
</p>
</div>
<div class="card card--orange">
<span class="card__icon">ü§ù</span>
<h3>ClaudeR + Cowork</h3>
<p style="font-size:0.7em;">
<strong>Time:</strong> 10 minutes<br>
<strong>Cost:</strong> Free (Claude Desktop)<br>
<strong>Skill:</strong> Beginner+<br>
<strong>Best for:</strong> Learning & analysis
</p>
</div>
<div class="card">
<span class="card__icon">‚ö°</span>
<h3>Claude Code</h3>
<p style="font-size:0.7em;">
<strong>Time:</strong> 15 minutes<br>
<strong>Cost:</strong> Paid API plan<br>
<strong>Skill:</strong> Intermediate+<br>
<strong>Best for:</strong> Autonomous workflows
</p>
</div>
</div>

. . .

::: {style="text-align: center; margin-top: 20px; font-size: 0.85em;"}
**Our recommendation:** Start with **Claude Chat** today, move to **Cowork** this week, explore **Code** when you're ready.
:::

