---
title: "AI-Assisted Statistical Analysis in Graduate Epidemiology Education"
subtitle: "Integrating Claude with RStudio for Teaching Regression Methods"
author: "Muntasir Masum, PhD"
institute: "Department of Epidemiology & Biostatistics<br>University at Albany, SUNY<br><br>[AI+ Annual Symposium 2026](https://events.albany.edu/event/ai-plus-symposium)"
date: "`r Sys.Date()`"
format:
  revealjs:
    theme: ["simple", ai-epi-workshop.scss]
    slide-number: c/t
    width: 1600
    height: 900
    footer: "AI Plus Annual Symposium 2026"
    chalkboard:
      buttons: false
    preview-links: auto
    echo: true
    mouse-wheel: true
---

```{r}
#| label: setup
#| include: false

# Load required packages
library(tidyverse)
library(NHANES)
library(broom)
library(knitr)
library(kableExtra)
library(plotly)

# Set global chunk options
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE,
  fig.width = 10,
  fig.height = 5,
  cache = FALSE
)

# Set ggplot theme
theme_set(theme_minimal(base_size = 16))
```

## Welcome

### Today's Focus

::: incremental
- See Claude + RStudio in action
- Real statistical workflows
- Practical demonstrations
- Q&A and discussion
:::

## Workshop Overview

### 75-Minute Structure

::: columns
::: {.column width="33%"}
**Part 1: Context** (15 min)

- Teaching challenge
- Why AI + R?
- Course integration
:::

::: {.column width="33%"}
**Part 2: Demonstrations** (45 min)

- Coding workflow
- Analysis workflow
- Visualization
- Debugging
:::

::: {.column width="33%"}
**Part 3: Discussion** (15 min)

- Implementation
- Academic integrity
- Q&A
:::
:::

::: footer
Materials available at: [GitHub repository link]
:::

## Who Is This For?

::: incremental
- **Educators** teaching quantitative methods
- **Students** learning R and statistics
- **Researchers** working with data
- **Anyone** interested in AI-assisted analysis
:::

. . .

**No assumptions about:** R experience ‚Ä¢ Statistics background ‚Ä¢ Epidemiology knowledge

## The Teaching Challenge

**Students come from diverse backgrounds**

- Biology, Psychology, Public Health, Policy
- Variable quantitative preparation
- Different comfort with programming

. . .

**Traditional barriers**

- Syntax frustration overshadows statistical thinking
- Limited support outside office hours
- Steep learning curve for R
- Time debugging instead of learning

. . .

**The real goal:** Develop analytical thinkers, not code executors

## Why Integrate AI Now?

::: columns
::: {.column width="50%"}
**Traditional Approach**

- Lectures + textbook
- Office hours
- TA support (limited)
- Peer learning groups
- Steep learning curve
:::

::: {.column width="50%"}
**AI-Enhanced Approach**

- On-demand explanation
- Contextual guidance
- Code debugging help
- Iterative learning
- Focus on interpretation
:::
:::

## Course Context: EPI 553

**Principles of Statistical Inference II** (Graduate level)

::: columns
::: {.column width="50%"}
**Course Details**

- 12-week semester
- Multiple regression methods
- All analyses in R
- Team research projects
- Poster presentation
:::

::: {.column width="50%"}
**Progressive Integration**

- Weeks 1-4: Structured prompts
- Weeks 5-8: Semi-structured
- Weeks 9-12: Open-ended projects

*Scaffolding ‚Üí Independence*
:::
:::

## Four Key Principles

1. **Scaffold, Don't Replace** ‚Äî AI guides, students demonstrate understanding

2. **Context Matters** ‚Äî Statistical output ‚Üí Public health implications

3. **Encourage Curiosity** ‚Äî AI asks questions that deepen learning

4. **Build Independence** ‚Äî Progressive responsibility transfer

. . .

**Core Philosophy:** AI is a teaching assistant, not a replacement for learning

## Three Ways to Integrate Claude + RStudio

### Choose Your Workflow

::: columns
::: {.column width="33%"}
**1. ClaudeR Package**

- Direct RStudio integration
- Chat interface in RStudio
- Access to R environment
- *Most accessible*

:::

::: {.column width="33%"}
**2. Claude Chat**

- Web browser + RStudio
- Copy/paste workflow
- Manual code execution
- *Intermediate approach*

:::

::: {.column width="33%"}
**3. Claude Code**

- Full AI IDE integration
- Autonomous execution
- Advanced workflows
- *Most powerful*

:::
:::

. . .

**Today's focus:** All three approaches, with emphasis on **ClaudeR** for accessibility

## ClaudeR Package Demo

### What is ClaudeR?

**Direct integration between RStudio and Claude AI**

::: incremental
- R package that connects to Claude Desktop/Code
- Chat interface appears in RStudio
- Claude can "see" your R environment
- Interactive data analysis without leaving RStudio
- **Perfect for students new to AI workflows**
:::

. . .

**Installation:** `devtools::install_github("IMNMV/ClaudeR")`

**GitHub:** [github.com/IMNMV/ClaudeR](https://github.com/IMNMV/ClaudeR)

## ClaudeR in Action

### Live Demonstration

```r
# Start ClaudeR connection
library(ClaudeR)
claudeAddin()

# Now you can chat with Claude directly in RStudio!
# Claude can see your loaded datasets
# Ask questions about your data
# Get help with analysis
```

. . .

**Example conversation:**

::: {style="background-color: #f0f0f0; padding: 20px; border-radius: 10px; margin-top: 20px;"}
üë§ **Student:** "I have the NHANES data loaded. Can you help me run a basic summary of systolic blood pressure?"

ü§ñ **Claude:** "I can see you have NHANES loaded in your environment. Let me help you..."
:::

## Why ClaudeR Matters for Teaching

::: incremental
- **Lower barrier to entry** ‚Äî Students don't need to learn new tools
- **Familiar environment** ‚Äî Works within RStudio they already use
- **Context awareness** ‚Äî Claude sees loaded data and objects
- **Progressive learning** ‚Äî Students can transition to more advanced workflows
- **Reduces friction** ‚Äî No switching between browser and IDE
:::

. . .

**This is the approach I recommend for getting started!**

## Today's Research Question

> *Does alcohol consumption predict blood pressure?*

**Dataset:** NHANES 2017-2018

- Outcome: Systolic blood pressure (mmHg)
- Exposure: Alcohol drinks per week
- Covariates: Age, BMI, smoking status, sex

. . .

**Four workflows:** Coding ‚Ä¢ Analysis ‚Ä¢ Plotting ‚Ä¢ Debugging

## AI-Assisted Analysis Workflow

```{mermaid}
%%| fig-width: 14
flowchart LR
    A[üìä Data Loading] --> B[üîç Exploration]
    B --> C[üßπ Cleaning]
    C --> D[üìà Analysis]
    D --> E[üìâ Visualization]
    E --> F[üí° Interpretation]

    style A fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style B fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style C fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style D fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style E fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style F fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
```

::: {.notes}
Standard data analysis pipeline where Claude assists at each step.
:::

## Student-AI Interaction Flow

```{mermaid}
%%| fig-width: 14
flowchart TD
    A[üë®‚Äçüéì Student asks question] --> B[ü§ñ Claude understands context]
    B --> C[üíª Claude generates R code]
    C --> D[üìù Student reviews & runs code]
    D --> E{Results<br/>correct?}
    E -->|No| F[üêõ Claude helps debug]
    F --> C
    E -->|Yes| G[üí° Claude explains output]
    G --> H[üìä Student interprets results]
    H --> I{More<br/>questions?}
    I -->|Yes| A
    I -->|No| J[‚úÖ Analysis complete]

    style A fill:#0072B2,stroke:#333,stroke-width:2px,color:#fff
    style B fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style C fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style D fill:#0072B2,stroke:#333,stroke-width:2px,color:#fff
    style E fill:#D55E00,stroke:#333,stroke-width:2px,color:#fff
    style F fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style G fill:#461D7C,stroke:#333,stroke-width:2px,color:#fff
    style H fill:#0072B2,stroke:#333,stroke-width:2px,color:#fff
    style I fill:#D55E00,stroke:#333,stroke-width:2px,color:#fff
    style J fill:#009E73,stroke:#333,stroke-width:2px,color:#fff
```

::: {.notes}
Iterative learning process. Student maintains agency; Claude scaffolds understanding.
:::

## Student Question: Coding

*"I need to prepare my NHANES data for regression analysis. I want adults aged 20-65, exclude missing values, and create a drinks-per-week variable. How do I do this in R?"*

. . .

**How Claude helps:**

- Suggests appropriate functions
- Explains data manipulation logic
- Provides annotated code
- Anticipates common pitfalls

## Claude's Approach

**Understanding the task:**

1. Filter age range (20-65)
2. Select relevant variables
3. Handle missing data
4. Create derived variables

## The Code {.smaller}

::: {style="background-color: #f0e6f6; padding: 15px; border-left: 5px solid #461D7C; border-radius: 5px; margin-bottom: 20px;"}
**üí° Claude suggests:** Use `filter()` for age range, `mutate()` for new variables, and handle missing data explicitly
:::

```{r}
#| eval: false
#| echo: true
#| code-line-numbers: "6,7,10,11,12"

# Load packages
library(tidyverse)  # ‚Üê Claude recommends: tidyverse for data wrangling

# Load NHANES data
data("NHANES")  # ‚Üê Built-in dataset from NHANES package

# Prepare analysis dataset
analysis_data <- NHANES %>%
  filter(Age >= 20, Age <= 65) %>%  # ‚Üê Filter age range (student's requirement)
  select(ID, Gender, Age, BMI, AlcoholDay, SmokeNow, BPSysAve) %>%  # ‚Üê Select relevant vars
  na.omit() %>%  # ‚Üê Claude suggests: remove missing data
  mutate(  # ‚Üê Create derived variables
    drinks_per_week = AlcoholDay * 7,  # ‚Üê Convert daily to weekly
    current_smoker = ifelse(SmokeNow == "Yes", 1, 0)  # ‚Üê Binary indicator
  )
```

## Live Demonstration

```{r}
#| label: data-prep
#| echo: true

# Load NHANES data
data("NHANES")

# Prepare analysis dataset
analysis_data <- NHANES %>%
  filter(Age >= 20, Age <= 65) %>%
  filter(!is.na(BPSysAve), !is.na(AlcoholDay), !is.na(BMI),
         !is.na(SmokeNow), !is.na(Gender)) %>%
  mutate(
    drinks_per_week = AlcoholDay * 7,
    current_smoker = ifelse(SmokeNow == "Yes", 1, 0)
  ) %>%
  select(ID, Gender, Age, BMI, drinks_per_week, current_smoker, BPSysAve) %>%
  distinct(ID, .keep_all = TRUE)
```

## Check the Result

```{r}
#| echo: true
glimpse(analysis_data)
```

## Key Takeaways

1. Claude explains **logic** before showing code
2. Code is **annotated** for learning
3. Line-by-line highlighting helps follow flow
4. Student **understands** pipeline, not just copies

. . .

**Teaching moment:** Why filter missing values *before* creating new variables?

## Student Question: Analysis

*"I need to run a multiple regression with blood pressure as outcome and alcohol, age, BMI, smoking, and sex as predictors. How do I interpret the results?"*

## Fitting the Model {.smaller}

::: {style="background-color: #f0e6f6; padding: 15px; border-left: 5px solid #461D7C; border-radius: 5px; margin-bottom: 20px;"}
**üí° Claude explains:** Use `lm()` for linear regression. Formula syntax: `outcome ~ predictor1 + predictor2 + ...`
:::

```{r}
#| label: model1
#| echo: true
#| code-line-numbers: "2,3,4"

# Fit multiple linear regression
model1 <- lm(BPSysAve ~ drinks_per_week + Age + BMI +  # ‚Üê Main predictors
                        current_smoker + Gender,  # ‚Üê Additional covariates
             data = analysis_data)  # ‚Üê Specify dataset

# View results ‚Üê Claude suggests: summary() for comprehensive output
summary(model1)
```

::: {style="font-size: 0.8em; margin-top: 15px; padding: 10px; background-color: #fff3cd; border-radius: 5px;"}
**üéØ Claude's teaching point:** Each coefficient represents the change in BP for a 1-unit increase in that predictor, *holding all other variables constant*
:::

## Claude's Interpretation

**1. Coefficient for alcohol:**

```{r}
#| echo: true
coef(model1)["drinks_per_week"]
```

Each additional drink per week is associated with a `r round(coef(model1)["drinks_per_week"], 3)` mmHg change in systolic BP, holding other factors constant.

## Statistical Significance

**2. P-value:**

```{r}
#| echo: true
summary(model1)$coefficients["drinks_per_week", "Pr(>|t|)"]
```

. . .

**Claude asks:** "What does p = `r format.pval(summary(model1)$coefficients['drinks_per_week', 'Pr(>|t|)'], digits=3)` tell us about this relationship?"

. . .

**Claude asks:** "Is this effect size clinically meaningful for public health?"

## Student Question: Visualization

*"I want to visualize the relationship between alcohol consumption and blood pressure, accounting for sex differences. What's the best plot?"*

. . .

**Claude suggests:**

- Scatter plot with regression lines
- Separate by sex
- Add confidence intervals
- Clear labels

## Building the Plot {.smaller}

::: {style="background-color: #f8f9fa; padding: 20px; border-radius: 10px;"}
**Student asks:** *"How do I create a scatter plot with separate regression lines for males and females?"*
:::

. . .

**Claude Code assists with visualization:**

```{r}
#| label: vis-demo-code
#| echo: true
#| eval: false
#| code-line-numbers: "3,4,9"

# Create interactive plot with plotly
p <- ggplot(analysis_data, aes(x = drinks_per_week, y = BPSysAve, color = Gender)) +
  geom_point(alpha = 0.3, size = 2) +  # ‚Üê Claude suggests: alpha for overplotting
  geom_smooth(method = "lm", se = TRUE, linewidth = 1.5) +  # ‚Üê Adds regression lines
  labs(
    title = "Alcohol Consumption and Systolic Blood Pressure",
    subtitle = "NHANES 2017-2018, Adults Aged 20-65",
    x = "Drinks Per Week",
    y = "Systolic Blood Pressure (mmHg)",
    color = "Sex"
  ) +
  theme_minimal(base_size = 18) +
  theme(legend.position = "right")  # ‚Üê Claude suggests: move legend

# Convert to interactive plot ‚Üê Claude adds: interactivity with plotly
ggplotly(p, tooltip = c("x", "y", "color"))
```

## Interactive Visualization

```{r}
#| label: vis-demo
#| echo: false
#| fig-width: 12
#| fig-height: 8

# Create the plot with legend on right
p <- ggplot(analysis_data, aes(x = drinks_per_week, y = BPSysAve, color = Gender)) +
  geom_point(alpha = 0.3, size = 2) +
  geom_smooth(method = "lm", se = TRUE, linewidth = 1.5) +
  labs(
    title = "Alcohol Consumption and Systolic Blood Pressure",
    subtitle = "NHANES 2017-2018, Adults Aged 20-65",
    x = "Drinks Per Week",
    y = "Systolic Blood Pressure (mmHg)",
    color = "Sex"
  ) +
  theme_minimal(base_size = 20) +
  theme(
    legend.position = "right",
    legend.text = element_text(size = 18),
    legend.title = element_text(size = 18, face = "bold")
  )

# Convert to interactive plotly
ggplotly(p, tooltip = c("x", "y", "color")) %>%
  layout(
    hovermode = "closest",
    legend = list(orientation = "v", x = 1.02, y = 0.5)
  )
```

::: {.notes}
Hover over points to see values. Click legend to show/hide groups. Interactive plots help students explore data patterns.
:::

## Data Distributions

```{r}
#| label: distributions
#| echo: false
#| fig-width: 14
#| fig-height: 7

library(gridExtra)

# Distribution of drinks per week
p1 <- ggplot(analysis_data, aes(x = drinks_per_week, fill = Gender)) +
  geom_histogram(alpha = 0.6, bins = 30, position = "identity") +
  labs(title = "Distribution of Alcohol Consumption",
       x = "Drinks Per Week", y = "Count") +
  theme_minimal(base_size = 16) +
  scale_fill_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  theme(legend.position = "top")

# Distribution of systolic BP
p2 <- ggplot(analysis_data, aes(x = BPSysAve, fill = Gender)) +
  geom_density(alpha = 0.6) +
  labs(title = "Distribution of Systolic Blood Pressure",
       x = "Systolic BP (mmHg)", y = "Density") +
  theme_minimal(base_size = 16) +
  scale_fill_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  theme(legend.position = "top")

grid.arrange(p1, p2, ncol = 2)
```

::: {.notes}
Understanding data distributions before modeling. Notice the skewed distribution of alcohol consumption and roughly normal distribution of blood pressure.
:::

## Correlation Matrix

```{r}
#| label: correlation-matrix
#| echo: false
#| fig-width: 10
#| fig-height: 8

# Prepare numeric data for correlation
corr_data <- analysis_data %>%
  select(Age, drinks_per_week, BPSysAve) %>%
  na.omit()

# Calculate correlation matrix
cor_matrix <- cor(corr_data)

# Create heatmap
library(reshape2)
melted_cor <- melt(cor_matrix)

ggplot(melted_cor, aes(Var1, Var2, fill = value)) +
  geom_tile(color = "white") +
  geom_text(aes(label = sprintf("%.2f", value)), size = 8, color = "white") +
  scale_fill_gradient2(low = "#0072B2", high = "#D55E00", mid = "white",
                       midpoint = 0, limit = c(-1,1), space = "Lab",
                       name="Correlation") +
  theme_minimal(base_size = 18) +
  theme(axis.title = element_blank(),
        axis.text.x = element_text(angle = 45, hjust = 1, size = 16),
        axis.text.y = element_text(size = 16)) +
  coord_fixed() +
  labs(title = "Correlation Matrix of Key Variables")
```

::: {.notes}
Weak positive correlation between alcohol and blood pressure. Age shows weak correlations with both variables.
:::

## Coefficient Plot

```{r}
#| label: coefficient-plot
#| echo: false
#| fig-width: 12
#| fig-height: 7

# Extract coefficients with confidence intervals
coef_data <- tidy(model1, conf.int = TRUE) %>%
  filter(term != "(Intercept)") %>%
  mutate(term = case_when(
    term == "drinks_per_week" ~ "Drinks Per Week",
    term == "Gendermale" ~ "Sex (Male vs Female)",
    term == "drinks_per_week:Gendermale" ~ "Interaction:\nDrinks √ó Sex",
    TRUE ~ term
  ))

ggplot(coef_data, aes(x = estimate, y = term)) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray50", size = 1) +
  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high),
                 height = 0.2, size = 1.2, color = "#461D7C") +
  geom_point(size = 4, color = "#461D7C") +
  labs(title = "Regression Coefficients with 95% Confidence Intervals",
       subtitle = "Effect on Systolic Blood Pressure (mmHg)",
       x = "Coefficient Estimate", y = "") +
  theme_minimal(base_size = 18) +
  theme(axis.text.y = element_text(size = 16, face = "bold"),
        panel.grid.major.y = element_blank())
```

::: {.notes}
Visual representation of effect sizes. Interaction term crosses zero, suggesting similar effects by sex.
:::

## Model Diagnostics: Residual Plots

```{r}
#| label: diagnostic-plots
#| echo: false
#| fig-width: 14
#| fig-height: 14

# Create diagnostic plots
library(ggfortify)

# Get model diagnostics
model_diag <- augment(model1)

# 1. Residuals vs Fitted
p1 <- ggplot(model_diag, aes(x = .fitted, y = .resid)) +
  geom_point(alpha = 0.3, color = "#461D7C") +
  geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
  geom_smooth(se = TRUE, color = "#0072B2") +
  labs(title = "Residuals vs Fitted", x = "Fitted Values", y = "Residuals") +
  theme_minimal(base_size = 14)

# 2. Q-Q Plot
p2 <- ggplot(model_diag, aes(sample = .resid)) +
  stat_qq(alpha = 0.3, color = "#461D7C") +
  stat_qq_line(color = "red", linetype = "dashed") +
  labs(title = "Normal Q-Q Plot", x = "Theoretical Quantiles", y = "Sample Quantiles") +
  theme_minimal(base_size = 14)

# 3. Scale-Location
p3 <- ggplot(model_diag, aes(x = .fitted, y = sqrt(abs(.std.resid)))) +
  geom_point(alpha = 0.3, color = "#461D7C") +
  geom_smooth(se = TRUE, color = "#0072B2") +
  labs(title = "Scale-Location", x = "Fitted Values",
       y = expression(sqrt("|Standardized Residuals|"))) +
  theme_minimal(base_size = 14)

# 4. Residuals vs Leverage
p4 <- ggplot(model_diag, aes(x = .hat, y = .std.resid)) +
  geom_point(alpha = 0.3, color = "#461D7C") +
  geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
  geom_smooth(se = TRUE, color = "#0072B2") +
  labs(title = "Residuals vs Leverage", x = "Leverage", y = "Standardized Residuals") +
  theme_minimal(base_size = 14)

grid.arrange(p1, p2, p3, p4, ncol = 2)
```

::: {.notes}
Checking model assumptions: linearity, normality, homoscedasticity, influential points. Generally good fit with some deviations from normality.
:::

## Model Comparison

```{r}
#| label: model-comparison
#| echo: false
#| fig-width: 12
#| fig-height: 7

# Fit comparison models
model_simple <- lm(BPSysAve ~ drinks_per_week, data = analysis_data)
model_additive <- lm(BPSysAve ~ drinks_per_week + Gender, data = analysis_data)
model_interaction <- model1  # Already fitted

# Get model metrics
model_metrics <- tibble(
  Model = c("Simple\n(Drinks Only)",
            "Additive\n(Drinks + Sex)",
            "Interaction\n(Drinks √ó Sex)"),
  R_squared = c(summary(model_simple)$r.squared,
                summary(model_additive)$r.squared,
                summary(model_interaction)$r.squared),
  Adj_R_squared = c(summary(model_simple)$adj.r.squared,
                    summary(model_additive)$adj.r.squared,
                    summary(model_interaction)$adj.r.squared),
  AIC = c(AIC(model_simple), AIC(model_additive), AIC(model_interaction))
)

# R-squared comparison
p1 <- ggplot(model_metrics, aes(x = Model, y = Adj_R_squared)) +
  geom_col(fill = "#461D7C", alpha = 0.8) +
  geom_text(aes(label = sprintf("%.4f", Adj_R_squared)),
            vjust = -0.5, size = 6, fontface = "bold") +
  labs(title = "Model Comparison: Adjusted R¬≤",
       y = "Adjusted R¬≤", x = "") +
  theme_minimal(base_size = 18) +
  theme(axis.text.x = element_text(size = 14, face = "bold")) +
  ylim(0, max(model_metrics$Adj_R_squared) * 1.2)

# AIC comparison (lower is better)
p2 <- ggplot(model_metrics, aes(x = Model, y = AIC)) +
  geom_col(fill = "#0072B2", alpha = 0.8) +
  geom_text(aes(label = sprintf("%.0f", AIC)),
            vjust = -0.5, size = 6, fontface = "bold") +
  labs(title = "Model Comparison: AIC (Lower is Better)",
       y = "AIC", x = "") +
  theme_minimal(base_size = 18) +
  theme(axis.text.x = element_text(size = 14, face = "bold")) +
  ylim(0, max(model_metrics$AIC) * 1.1)

grid.arrange(p1, p2, ncol = 2)
```

::: {.notes}
Comparing model performance. Interaction model shows marginally better fit but added complexity may not be justified.
:::

## Predicted vs Observed

```{r}
#| label: predicted-observed
#| echo: false
#| fig-width: 10
#| fig-height: 8

# Get predictions
model_diag <- model_diag %>%
  rename(observed = BPSysAve, predicted = .fitted)

ggplot(model_diag, aes(x = observed, y = predicted, color = Gender)) +
  geom_point(alpha = 0.4, size = 2) +
  geom_abline(intercept = 0, slope = 1, linetype = "dashed",
              color = "red", size = 1.2) +
  labs(title = "Predicted vs Observed Systolic Blood Pressure",
       subtitle = "Points near diagonal line indicate good predictions",
       x = "Observed BP (mmHg)",
       y = "Predicted BP (mmHg)") +
  theme_minimal(base_size = 18) +
  scale_color_manual(values = c("female" = "#D55E00", "male" = "#0072B2")) +
  theme(legend.position = "top") +
  coord_fixed()
```

::: {.notes}
Model predictions generally track observed values but with considerable scatter, reflecting modest R¬≤ values.
:::

## Iterative Refinement

**Student:** "Can we make this publication-ready?"

. . .

**Claude suggests:**

- Larger text for readability
- Color-blind friendly palette
- Add sample size annotations
- Export at high resolution

## Student Question: Debugging

**Common errors students encounter:**

1. **Missing package errors**
   ```r
   Error: could not find function "ggplot"
   ```

2. **Variable name typos**
   ```r
   Error: object 'drinks_perweek' not found
   ```

3. **Formula syntax errors**
   ```r
   Error in lm.fit(x, y, ...)
   ```

## Claude's Diagnostic Process

**Student shares error:**
```r
Error: object 'current_smoker' not found
```

. . .

**Claude's approach:**

1. Identify the issue (variable doesn't exist)
2. Explain why (not created or misspelled)
3. Suggest fix (check mutate step)
4. Teach pattern (how to verify variables)

## Live Debugging

**Intentional error:**

```{r}
#| error: true
#| echo: true
model_error <- lm(BP_Systolic ~ alcohol_weekly + Age,
                  data = analysis_data)
```

## Claude's Fix

"I see two issues:

1. `BP_Systolic` should be `BPSysAve`
2. `alcohol_weekly` should be `drinks_per_week`"

. . .

**Corrected:**

```{r}
#| echo: true
model_correct <- lm(BPSysAve ~ drinks_per_week + Age,
                    data = analysis_data)
```

## Optional Follow-Along

**For participants:**

1. Install R and RStudio (latest versions)
2. Create Claude account (free at claude.ai)
3. Install packages:
   ```r
   install.packages(c("tidyverse", "NHANES", "broom"))
   ```

**Workshop materials:** GitHub repository [link to be added]

## Academic Integrity

::: columns
::: {.column width="50%"}
**Clear Guidelines**

- AI assistance allowed
- Must cite AI use
- Understand all code
- No copy-paste only
:::

::: {.column width="50%"}
**Assessment Design**

- Timed exams (no AI)
- Interpretation focus
- Code annotation
- Learning reflection
:::
:::

. . .

**Key message:** AI is a learning tool, not a replacement for understanding

## Adapting to Your Context

- **Different disciplines** ‚Äî Principles apply beyond epidemiology
- **Various skill levels** ‚Äî Scale scaffolding to student needs
- **Different software** ‚Äî Concepts transfer to Python, Stata, SAS
- **Online/in-person** ‚Äî Works in both modalities
- **Class size** ‚Äî Scalable from seminars to large lectures

## Benefits Observed

::: columns
::: {.column width="50%"}
**For Students**

- Reduced frustration
- Deeper understanding
- More interpretation time
- Confidence building
- 24/7 support access
:::

::: {.column width="50%"}
**For Instructors**

- Focus on concepts
- Better class time use
- Fewer basic questions
- Advanced discussions
- Scalable support
:::
:::

## Challenges & Solutions

| Challenge | Solution |
|-----------|----------|
| Over-reliance on AI | Progressive scaffolding; AI-free assessments |
| Incorrect suggestions | Teach verification; show error examples |
| Equity concerns | Free tier; computer lab access |
| Faculty learning curve | Start small; build gradually |
| Academic integrity | Clear policies; reflection assignments |

## Discussion

**Let's discuss:**

- What challenges do you face in teaching quantitative methods?
- How might AI integration work in your context?
- What concerns do you have?
- What additional support would help?

## Resources

**Workshop Materials**

::: {style="font-size: 0.9em;"}
- **GitHub Repository:** <https://github.com/muntasirmasum/ai-epi-workshop>
  - All slides, code, datasets, and guides
- **Live Presentation:** <https://muntasirmasum.github.io/ai-epi-workshop/>
- **Contact:** mmasum@albany.edu
:::

. . .

**Additional Resources**

- Quarto: <https://quarto.org>
- Claude AI: <https://claude.ai>
- ClaudeR Package: <https://github.com/IMNMV/ClaudeR>
- NHANES Data: <https://www.cdc.gov/nchs/nhanes/>

## Thank You!

<br><br>

### Questions?

<br>

**Muntasir Masum, PhD**

mmasum@albany.edu

Department of Epidemiology & Biostatistics

University at Albany, SUNY
